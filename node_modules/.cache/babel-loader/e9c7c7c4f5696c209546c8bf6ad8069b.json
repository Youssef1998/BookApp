{"ast":null,"code":"import _classCallCheck from \"/Users/youssefahmed/nd0191-c1-myreads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/youssefahmed/nd0191-c1-myreads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/youssefahmed/nd0191-c1-myreads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/youssefahmed/nd0191-c1-myreads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/youssefahmed/nd0191-c1-myreads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/youssefahmed/nd0191-c1-myreads/starter/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport { useState } from \"react\";\nimport BookList from \"./BookList\";\nimport SearchBook from \"./SearchBook\";\nimport { Routes, Route } from 'react-router-dom';\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport { useEffect } from 'react';\n\nvar BooksApp = /*#__PURE__*/function (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      myBooks: [],\n      error: \"You have no books in this shelf\",\n      fetchingError: undefined,\n      isFetchingBooks: true\n    };\n\n    _this.fetchMyBooks = function () {\n      _this.setState({\n        isFetchingBooks: true\n      });\n\n      BooksAPI.getAll().then(function (books) {\n        if (!books.length) {\n          _this.setState({\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        } else {\n          _this.setState({\n            myBooks: books,\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        }\n      }).catch(function (err) {\n        _this.setState({\n          fetchingError: \"There was an error loading your books, please check your connection\",\n          isFetchingBooks: false\n        });\n      });\n    };\n\n    _this.changeBookShelf = function (book, shelf) {\n      book.shelf = shelf;\n\n      _this.setState(function (prevState) {\n        return {\n          myBooks: prevState.myBooks.filter(function (b) {\n            return b.id !== book.id;\n          }).concat([book])\n        };\n      });\n\n      BooksAPI.update(book, shelf);\n    };\n\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchMyBooks();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          myBooks = _this$state.myBooks,\n          error = _this$state.error,\n          fetchingError = _this$state.fetchingError,\n          isFetchingBooks = _this$state.isFetchingBooks;\n      var changeBookShelf = this.changeBookShelf,\n          fetchMyBooks = this.fetchMyBooks;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Routes, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(BookList, {\n            fetchingError: fetchingError,\n            myBooks: myBooks,\n            changeBookShelf: changeBookShelf,\n            error: error,\n            fetchMyBooks: fetchMyBooks,\n            isFetchingBooks: isFetchingBooks,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/search\",\n        render: function render() {\n          return /*#__PURE__*/React.createElement(SearchBook, {\n            myBooks: myBooks,\n            changeBookShelf: changeBookShelf,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 36\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }\n        }, \"Go home\")),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp;","map":{"version":3,"names":["React","useState","BookList","SearchBook","Routes","Route","Link","BooksAPI","useEffect","BooksApp","state","myBooks","error","fetchingError","undefined","isFetchingBooks","fetchMyBooks","setState","getAll","then","books","length","catch","err","changeBookShelf","book","shelf","prevState","filter","b","id","concat","update","Component"],"sources":["/Users/youssefahmed/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport { useState } from \"react\";\nimport BookList from \"./BookList\";\nimport SearchBook from \"./SearchBook\";\nimport { Routes ,Route } from 'react-router-dom';\nimport { Link } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport {useEffect} from 'react';\n\n\nclass BooksApp extends React.Component {\n  state = {\n    myBooks: [],\n    error: \"You have no books in this shelf\",\n    fetchingError: undefined,\n    isFetchingBooks: true\n  };\n  componentDidMount() {\n    this.fetchMyBooks();\n  }\n\n  fetchMyBooks = () => {\n    this.setState({\n      isFetchingBooks: true\n    });\n    BooksAPI.getAll()\n      .then(books => {\n        if (!books.length) {\n          this.setState({\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        } else {\n          this.setState({\n            myBooks: books,\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        }\n      })\n      .catch(err => {\n        this.setState({\n          fetchingError:\n            \"There was an error loading your books, please check your connection\",\n          isFetchingBooks: false\n        });\n      });\n  };\n  changeBookShelf = (book, shelf) => {\n    book.shelf = shelf;\n    this.setState(prevState => ({\n      myBooks: prevState.myBooks.filter(b => b.id !== book.id).concat([book])\n    }));\n    BooksAPI.update(book, shelf);\n  };\n  render() {\n    const { myBooks, error, fetchingError, isFetchingBooks } = this.state;\n    const { changeBookShelf, fetchMyBooks } = this;\n    return (\n      <React.Fragment>\n      <div className=\"app\">\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <BookList\n                fetchingError={fetchingError}\n                myBooks={myBooks}\n                changeBookShelf={changeBookShelf}\n                error={error}\n                fetchMyBooks={fetchMyBooks}\n                isFetchingBooks={isFetchingBooks}\n              />\n            )}\n          />\n          <Route\n            path=\"/search\"\n            render={() => (\n              <SearchBook\n                myBooks={myBooks}\n                changeBookShelf={changeBookShelf}\n              />\n            )}\n          />\n        \n          <Route path=\"/\" element={<div>\n                  <Link to=\"/\">Go home</Link>\n                  </div>}>\n          </Route>\n        </Routes>\n      </div>\n      </React.Fragment>\n\n    );\n  }\n}\n\nexport default BooksApp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}