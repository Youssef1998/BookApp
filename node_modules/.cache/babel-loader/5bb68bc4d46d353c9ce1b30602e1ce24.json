{"ast":null,"code":"var _jsxFileName = \"/Users/youssefahmed/nd0191-c1-myreads/starter/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport BookList from \"./BookList\";\nimport SearchBook from \"./SearchBook\";\nimport { Routes, Route } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BooksApp extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      myBooks: [],\n      error: \"You have no books in this shelf\",\n      fetchingError: undefined,\n      isFetchingBooks: true\n    };\n\n    this.fetchMyBooks = () => {\n      this.setState({\n        isFetchingBooks: true\n      });\n      BooksAPI.getAll().then(books => {\n        if (!books.length) {\n          this.setState({\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        } else {\n          this.setState({\n            myBooks: books,\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          fetchingError: \"There was an error loading your books, please check your connection\",\n          isFetchingBooks: false\n        });\n      });\n    };\n\n    this.changeBookShelf = (book, shelf) => {\n      book.shelf = shelf;\n      this.setState(prevState => ({\n        myBooks: prevState.myBooks.filter(b => b.id !== book.id).concat([book])\n      }));\n      BooksAPI.update(book, shelf);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchMyBooks();\n  }\n\n  render() {\n    const {\n      myBooks,\n      error,\n      fetchingError,\n      isFetchingBooks\n    } = this.state;\n    const {\n      changeBookShelf,\n      fetchMyBooks\n    } = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          render: () => /*#__PURE__*/_jsxDEV(BooksList, {\n            fetchingError: fetchingError,\n            myBooks: myBooks,\n            changeBookShelf: changeBookShelf,\n            error: error,\n            fetchMyBooks: fetchMyBooks,\n            isFetchingBooks: isFetchingBooks\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/search\",\n          render: () => /*#__PURE__*/_jsxDEV(SearchBooks, {\n            myBooks: myBooks,\n            changeBookShelf: changeBookShelf\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          component: NotFoundPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default BooksApp;","map":{"version":3,"names":["React","BookList","SearchBook","Routes","Route","BooksAPI","BooksApp","Component","state","myBooks","error","fetchingError","undefined","isFetchingBooks","fetchMyBooks","setState","getAll","then","books","length","catch","err","changeBookShelf","book","shelf","prevState","filter","b","id","concat","update","componentDidMount","render","NotFoundPage"],"sources":["/Users/youssefahmed/nd0191-c1-myreads/starter/src/App.js"],"sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport BookList from \"./BookList\";\nimport SearchBook from \"./SearchBook\";\nimport {  Routes, Route } from \"react-router-dom\";\nimport * as BooksAPI from \"./BooksAPI\";\n\n\nclass BooksApp extends React.Component {\n  state = {\n    myBooks: [],\n    error: \"You have no books in this shelf\",\n    fetchingError: undefined,\n    isFetchingBooks: true\n  };\n  componentDidMount() {\n    this.fetchMyBooks();\n  }\n\n  fetchMyBooks = () => {\n    this.setState({\n      isFetchingBooks: true\n    });\n    BooksAPI.getAll()\n      .then(books => {\n        if (!books.length) {\n          this.setState({\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        } else {\n          this.setState({\n            myBooks: books,\n            fetchingError: undefined,\n            isFetchingBooks: false\n          });\n        }\n      })\n      .catch(err => {\n        this.setState({\n          fetchingError:\n            \"There was an error loading your books, please check your connection\",\n          isFetchingBooks: false\n        });\n      });\n  };\n  changeBookShelf = (book, shelf) => {\n    book.shelf = shelf;\n    this.setState(prevState => ({\n      myBooks: prevState.myBooks.filter(b => b.id !== book.id).concat([book])\n    }));\n    BooksAPI.update(book, shelf);\n  };\n  render() {\n    const { myBooks, error, fetchingError, isFetchingBooks } = this.state;\n    const { changeBookShelf, fetchMyBooks } = this;\n    return (\n      <div className=\"app\">\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => (\n              <BooksList\n                fetchingError={fetchingError}\n                myBooks={myBooks}\n                changeBookShelf={changeBookShelf}\n                error={error}\n                fetchMyBooks={fetchMyBooks}\n                isFetchingBooks={isFetchingBooks}\n              />\n            )}\n          />\n          <Route\n            path=\"/search\"\n            render={() => (\n              <SearchBooks\n                myBooks={myBooks}\n                changeBookShelf={changeBookShelf}\n              />\n            )}\n          />\n          <Route component={NotFoundPage} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default BooksApp;\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,SAAUC,MAAV,EAAkBC,KAAlB,QAA+B,kBAA/B;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;;;AAGA,MAAMC,QAAN,SAAuBN,KAAK,CAACO,SAA7B,CAAuC;EAAA;IAAA;IAAA,KACrCC,KADqC,GAC7B;MACNC,OAAO,EAAE,EADH;MAENC,KAAK,EAAE,iCAFD;MAGNC,aAAa,EAAEC,SAHT;MAINC,eAAe,EAAE;IAJX,CAD6B;;IAAA,KAWrCC,YAXqC,GAWtB,MAAM;MACnB,KAAKC,QAAL,CAAc;QACZF,eAAe,EAAE;MADL,CAAd;MAGAR,QAAQ,CAACW,MAAT,GACGC,IADH,CACQC,KAAK,IAAI;QACb,IAAI,CAACA,KAAK,CAACC,MAAX,EAAmB;UACjB,KAAKJ,QAAL,CAAc;YACZJ,aAAa,EAAEC,SADH;YAEZC,eAAe,EAAE;UAFL,CAAd;QAID,CALD,MAKO;UACL,KAAKE,QAAL,CAAc;YACZN,OAAO,EAAES,KADG;YAEZP,aAAa,EAAEC,SAFH;YAGZC,eAAe,EAAE;UAHL,CAAd;QAKD;MACF,CAdH,EAeGO,KAfH,CAeSC,GAAG,IAAI;QACZ,KAAKN,QAAL,CAAc;UACZJ,aAAa,EACX,qEAFU;UAGZE,eAAe,EAAE;QAHL,CAAd;MAKD,CArBH;IAsBD,CArCoC;;IAAA,KAsCrCS,eAtCqC,GAsCnB,CAACC,IAAD,EAAOC,KAAP,KAAiB;MACjCD,IAAI,CAACC,KAAL,GAAaA,KAAb;MACA,KAAKT,QAAL,CAAcU,SAAS,KAAK;QAC1BhB,OAAO,EAAEgB,SAAS,CAAChB,OAAV,CAAkBiB,MAAlB,CAAyBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,IAAI,CAACK,EAA5C,EAAgDC,MAAhD,CAAuD,CAACN,IAAD,CAAvD;MADiB,CAAL,CAAvB;MAGAlB,QAAQ,CAACyB,MAAT,CAAgBP,IAAhB,EAAsBC,KAAtB;IACD,CA5CoC;EAAA;;EAOrCO,iBAAiB,GAAG;IAClB,KAAKjB,YAAL;EACD;;EAoCDkB,MAAM,GAAG;IACP,MAAM;MAAEvB,OAAF;MAAWC,KAAX;MAAkBC,aAAlB;MAAiCE;IAAjC,IAAqD,KAAKL,KAAhE;IACA,MAAM;MAAEc,eAAF;MAAmBR;IAAnB,IAAoC,IAA1C;IACA,oBACE;MAAK,SAAS,EAAC,KAAf;MAAA,uBACE,QAAC,MAAD;QAAA,wBACE,QAAC,KAAD;UACE,KAAK,MADP;UAEE,IAAI,EAAC,GAFP;UAGE,MAAM,EAAE,mBACN,QAAC,SAAD;YACE,aAAa,EAAEH,aADjB;YAEE,OAAO,EAAEF,OAFX;YAGE,eAAe,EAAEa,eAHnB;YAIE,KAAK,EAAEZ,KAJT;YAKE,YAAY,EAAEI,YALhB;YAME,eAAe,EAAED;UANnB;YAAA;YAAA;YAAA;UAAA;QAJJ;UAAA;UAAA;UAAA;QAAA,QADF,eAeE,QAAC,KAAD;UACE,IAAI,EAAC,SADP;UAEE,MAAM,EAAE,mBACN,QAAC,WAAD;YACE,OAAO,EAAEJ,OADX;YAEE,eAAe,EAAEa;UAFnB;YAAA;YAAA;YAAA;UAAA;QAHJ;UAAA;UAAA;UAAA;QAAA,QAfF,eAwBE,QAAC,KAAD;UAAO,SAAS,EAAEW;QAAlB;UAAA;UAAA;UAAA;QAAA,QAxBF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EA8BD;;AA9EoC;;AAiFvC,eAAe3B,QAAf"},"metadata":{},"sourceType":"module"}