{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/youssefahmed/nd0191-c1-myreads/starter/src/SearchBook.js\";\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { debounce } from \"lodash\";\nimport * as BooksAPI from \"../utils/BooksAPI\";\nimport Book from \"./Book\";\n\nvar SearchBooks = function SearchBooks(_ref) {\n  var prop = _ref.prop;\n  state = {\n    query: \"\",\n    showingBooks: [],\n    error: undefined\n  };\n\n  onUpdateQuery = function onUpdateQuery(event) {\n    var query = event.target.value;\n    setState({\n      query: query,\n      error: undefined\n    });\n    searchBooks(query.trim());\n  };\n\n  searchBooks = debounce(function (query) {\n    if (!query) {\n      setState({\n        showingBooks: []\n      });\n      return;\n    }\n\n    BooksAPI.search(query).then(function (books) {\n      if (!books || books.error) {\n        setState({\n          showingBooks: [],\n          error: \"No books were found, please change your search term\"\n        });\n        return;\n      }\n\n      books = books.map(function (book) {\n        var bookOnShelf = props.myBooks.find(function (b) {\n          return b.id === book.id;\n        });\n        book.shelf = bookOnShelf ? bookOnShelf.shelf : \"none\";\n        return book;\n      });\n      setState({\n        showingBooks: books\n      });\n    }).catch(function (err) {\n      setState({\n        showingBooks: [],\n        error: \"There was an error searching for books, please check your connection\"\n      });\n    });\n  }, 300); //render()\n  //{\n  //  const { query, showingBooks, error } = state;\n  //const { changeBookShelf } = props;\n  //  const { onUpdateQuery } = ;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-books\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-books-bar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"close-search\",\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-books-input-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: onUpdateQuery,\n    value: query,\n    type: \"text\",\n    placeholder: \"Search by title or author\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-books-results\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"books-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, showingBooks.length ? showingBooks.map(function (book) {\n    return /*#__PURE__*/React.createElement(Book, {\n      changeBookShelf: changeBookShelf,\n      key: book.id,\n      book: book,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    });\n  }) : query && error && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 35\n    }\n  }, error)))); //}\n};\n\nSearchBook.propTypes = {\n  myBooks: PropTypes.array.isRequired,\n  changeBookShelf: PropTypes.func.isRequired\n};\nexport default SearchBook;","map":{"version":3,"names":["React","Component","PropTypes","Link","debounce","BooksAPI","Book","SearchBooks","prop","state","query","showingBooks","error","undefined","onUpdateQuery","event","target","value","setState","searchBooks","trim","search","then","books","map","book","bookOnShelf","props","myBooks","find","b","id","shelf","catch","err","length","changeBookShelf","SearchBook","propTypes","array","isRequired","func"],"sources":["/Users/youssefahmed/nd0191-c1-myreads/starter/src/SearchBook.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport { debounce } from \"lodash\";\nimport * as BooksAPI from \"../utils/BooksAPI\";\nimport Book from \"./Book\";\n\nconst SearchBooks=({prop})=> {\n\n  state = {\n    query: \"\",\n    showingBooks: [],\n    error: undefined\n  };\n  onUpdateQuery = event => {\n    const query = event.target.value;\n    setState({\n      query: query,\n      error: undefined\n    });\n    searchBooks(query.trim());\n  };\n  searchBooks = debounce(query => {\n    if (!query) {\n      setState({ showingBooks: [] });\n      return;\n    }\n    BooksAPI.search(query)\n      .then(books => {\n        if (!books || books.error) {\n          setState({\n            showingBooks: [],\n            error: \"No books were found, please change your search term\"\n          });\n          return;\n        }\n        books = books.map(book => {\n          const bookOnShelf = props.myBooks.find(b => b.id === book.id);\n          book.shelf = bookOnShelf ? bookOnShelf.shelf : \"none\";\n          return book;\n        });\n      setState({ showingBooks: books });\n      })\n      .catch(err => {\n        setState({\n          showingBooks: [],\n          error:\n            \"There was an error searching for books, please check your connection\"\n        });\n      });\n  }, 300);\n  //render()\n  //{\n  //  const { query, showingBooks, error } = state;\n    //const { changeBookShelf } = props;\n  //  const { onUpdateQuery } = ;\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <Link className=\"close-search\" to=\"/\">\n            Close\n          </Link>\n          <div className=\"search-books-input-wrapper\">\n            <input\n              onChange={onUpdateQuery}\n              value={query}\n              type=\"text\"\n              placeholder=\"Search by title or author\"\n            />\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <ol className=\"books-grid\">\n            {showingBooks.length\n              ? showingBooks.map(book => (\n                  <Book\n                    changeBookShelf={changeBookShelf}\n                    key={book.id}\n                    book={book}\n                  />\n                ))\n              : query && error && <p className=\"error\">{error}</p>}\n          </ol>\n        </div>\n      </div>\n    );\n  //}\n}\n SearchBook.propTypes = {\n  myBooks: PropTypes.array.isRequired,\n  changeBookShelf: PropTypes.func.isRequired\n};\nexport default SearchBook;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}